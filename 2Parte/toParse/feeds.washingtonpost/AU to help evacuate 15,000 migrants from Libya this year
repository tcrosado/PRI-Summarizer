DAKAR, Senegal — The African Union and member states will repatriate more than 15,000 migrants stranded in Libya by the end of the year amid outrage over recent footage that showed migrants being auctioned off as slaves, the AU’s deputy chairman said Tuesday.

Between 400,000 and 700,000 African migrants are in dozens of camps across Libya, often under inhumane conditions, AU Commission chairman Moussa Faki Mahamat told a summit of European and African leaders last week. The International Organization for Migration says more than 423,000 migrants have been identified in the chaotic North African country, most of them from impoverished countries across sub-Saharan Africa.

Libya’s modern-day slavery came to international attention after the CNN footage showed migrants being auctioned off for as little as $400. Thousands of migrants make their way to Libya in hopes of eventually reaching Europe via the Mediterranean, often facing desertion and inhumane treatment by smugglers.

One Nigerian recently repatriated told The Associated Press about his ordeal.

“I paid 500,000 naira ($1,600) to one Nigerian called Mr. Fix It in 2016 to facilitate my illegal journey to Europe through Libya across the Mediterranean Sea. But on getting to Libya, he abandoned all of us to our fate,” the man said, speaking on condition of anonymity because of fears for his security.

He said he and others were detained by Libyan militia members and kept in a makeshift prison where they were tortured and starved. More than 10 Nigerians, including girls, were taken away and sold as slaves. He was lucky to be rescued by security forces, he said. He was repatriated in July.

The man is among more than 5,000 Nigerians repatriated from Libya in the past two years, according to Abike Dabiri-Erewa, senior special assistant to Nigeria’s president on diaspora and foreign affairs. Another 250 Nigerians were on their way back from Libya on Tuesday, the government said.

The voluntary evacuations from Libya of more than 15,000 migrants will take place in cooperation with the International Organization for Migration, African Union deputy chairman Kwesi Quartey said Tuesday on Twitter. The continental body will help to issue emergency travel documentation and facilitate travel, he said. He did not specify which countries’ migrants would be sent home.

The African and European leaders last week drew up an emergency evacuation plan for migrants, agreeing to airlift at least 3,800 stranded in one of more than 40 detention centers in Libya. Morocco, France, and Germany will provide the air carriers, according to Gambian senior foreign affairs official Ebrima Jobe.

Separately, nearly 200 Gambians were repatriated on Nov. 30, while between 4,000 and 5,000 are still in Libyan camps, Jobe said. He criticized the “African brothers” who act as middlemen for the smugglers.

“Our criminal justice system should without delay initiate the prosecution of all those Africans involved,” he said.

Other African countries are now joining in on repatriations, including Ivory Coast and Cameroon.

Europe has struggled to stem the flow of tens of thousands of Africans making the dangerous crossing of the Mediterranean. But many Africans still make the journey, risking death and abuse, saying high unemployment and climate change leave them little choice.

Amnesty International has criticized Europe, saying its primary aim is to close the Mediterranean route and leave hundreds of thousands of migrants trapped in Libya and facing horrific abuses.

“Plans which overwhelmingly prioritize the ‘voluntary’ return of people now stuck in Libya to their country of origin without an effective system for assessing and meeting asylum needs or offering more resettlement places will end up as a mechanism for mass deportation,” said John Dalhuisen, Amnesty International’s Director for Europe.

Uguru reported from Warri, Nigeria. Associated Press writer Abdoulie John in Banjul, Gambia contributed.

Copyright 2017 The Associated Press. All rights reserved. This material may not be published, broadcast, rewritten or redistributed.
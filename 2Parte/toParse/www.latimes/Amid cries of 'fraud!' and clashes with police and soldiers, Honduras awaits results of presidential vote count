Tension was building in the Honduran capital as residents awaited the final results of vote counting that has dragged on for days, and supporters of a political newcomer who challenged the incumbent president clashed with security forces.

The election pitted Salvador Nasralla, a television personality with no prior political experience, against President Juan Orlando Hernandez. On Monday, Nasralla appeared to have pulled off a stunning victory, but as the days dragged on, his initial 5-percentage-point advantage melted away.

As his supporters took to the streets, Nasralla said that he believes the election is being stolen and that he won’t respect official results.

Street protests had formed across the capital, Tegucigalpa, on Thursday and thick clouds of smoke drifted across the sky as demonstrators set fires and torched tires to block roads. Young men with picks, poles and rocks stood ready to confront any law enforcement effort to put down the protests.

“This is fraud, pure and simple, and we plan to confront it,” said Alfredo Ramirez, 24, a student who, like others blocking a major street, Suyapa Boulevard, wore a handkerchief that covered his face.

“We won’t allow the fraud to go forward,” he said. “If the president is declared the winner, there will be a civil war.”

As dusk fell, thousands of protesters headed up a main thoroughfare, Boulevard Centroamerica, toward the institute where the votes were being counted. Soldiers in riot gear and brandishing plexiglass shields chased opposition activists away from the institute. The protesters scattered into side streets and regrouped for another thrust toward the ballot-counting site.

It appeared that the cat-and-mouse exercise between demonstrators and authorities would continue through the evening.

The acrid scent of tear gas permeated the air. Detonations from tear gas launchers provided a constant audio backdrop. The protesters were upbeat and defiant, pressing their case for fraud and chanting slogans disparaging Hernandez.

The country’s electoral tribunal, which administers elections and is allied with the president, has denied that it is manipulating the vote in favor of Hernandez. The electoral court had initially pledged to release the final results by Wednesday evening. Later, it promised to release them by 3 a.m. Thursday.

By 4:30 p.m. Thursday, the court’s website reported that 8% of ballots still needed to be counted, and Hernandez was beating Nasralla by 41,593 votes.

Tweets posted by court President David Matamoros blamed the delay on a technical failure. “Disturbances last night delayed count,” he wrote Thursday, promising that results would be released by the end of the day.

Uncertainty over the vote has fueled tensions in Honduras, where both candidates have declared victory and urged their supporters into the streets. After Nasralla told reporters that “the only one that can defend these votes is the Honduran people,” thousands of his backers massed outside the location where the votes were being counted Wednesday night.

Overrunning highways and bridges, protesters marched with banners that said “no more electoral fraud.” Soldiers in riot gear responded by firing tear gas into the crowd.

Many believe it is inevitable that Hernandez will be declared the winner.

That is a dramatic reversal from Monday morning, the day after Hondurans went to the polls. With 58% of the votes counted, Nasralla was beating Hernandez by 5 percentage points, or 93,975 votes.

After that, the court went inexplicably silent for more than 24 hours, eliciting calls for more transparency from international election monitors. When it resumed releasing new vote tallies Tuesday, the results showed a dramatic shift in favor of the president. Nasralla's lead shrank to 48,388 votes and then to 16,679 before he was eclipsed by Hernandez.

Nasralla’s Alliance Against Dictatorship coalition, as well as another political party whose candidate was in third place, says ballot tallies provided to the parties at each polling place after the vote show Nasralla won by a margin of about 200,000 votes. Representatives of the ruling National Party say their analysis of those tallies shows Hernandez winning.

In Tegucigalpa, a column of police in riot shields and helmets was deployed outside the offices of Televicentro on Thursday afternoon. The network is generally seen as pro-government.

“The police are protecting corporations, but not the people,” said Juan Garcia, 45, a university professor who was among those protesting nearby.

Like others here, Garcia said he does not believe the official story that the vote count shifted dramatically in a matter of few days in favor of Hernandez. And, like others, he was suspicious about the pause in the count earlier in the week.

“It just isn’t logical the way the count developed,” said Garcia. “It went from an opposition victory to exactly the opposite in a day or so. I just don’t believe it.”

Former President Manuel Zelaya, who was ousted in a 2009 coup supported by Hernandez, and whose Libre party is part of Nasralla's coalition, called for observers from the Organization of American States and European Union to organize a public count of ballots.

The coup against Zelaya was orchestrated by Hernandez's National Party in part because he was accused of plotting to violate the constitution by seeking reelection. Hernandez, who was elected president in 2013, announced his own campaign for reelection after several Supreme Court judges allied with his party voted to overturn the constitutional ban limiting presidents to one term.

Despite being dogged by accusations of corruption, Hernandez has been popular with U.S. officials for his cooperation with their efforts to reduce northward migration and violence in Honduras.

In a statement released Wednesday, the U.S. State Department said that “it is critical that Honduran election authorities be able to work in a free and transparent manner, without interference.” The statement also urged all candidates to respect the results once they are announced.

President Trump has not named a U.S. envoy to Honduras since Ambassador James D. Nealon left his post in July to join the Department of Homeland Security.